import{Aa as G,Ca as y,D as E,Da as $,Ea as q,J as I,L as U,M,O as S,P as L,S as V,U as x,W as B,a as P,ba as b,c as k,h as v,i as A,j as c,k as N,l as C,ma as w,n as T,p as O,q as u,qa as K,r as h,ra as Z,sa as _,t as p,u as F,w as W,y as f,ya as D,z as j,za as H}from"./chunk-NFOYLJRS.js";var m="Service workers are disabled or not supported by this browser";function ie(r){return C(()=>A(new Error(r)))}var d=class{constructor(e){if(this.serviceWorker=e,!e)this.worker=this.events=this.registration=ie(m);else{let t=T(e,"controllerchange").pipe(c(()=>e.controller)),n=C(()=>v(e.controller)),o=N(n,t);this.worker=o.pipe(h(l=>!!l)),this.registration=this.worker.pipe(f(()=>e.getRegistration()));let R=T(e,"message").pipe(c(l=>l.data)).pipe(h(l=>l&&l.type)).pipe(W());R.connect(),this.events=R}}postMessage(e,i){return this.worker.pipe(p(1),j(t=>{t.postMessage(P({action:e},i))})).toPromise().then(()=>{})}postMessageWithOperation(e,i,t){let n=this.waitForOperationCompleted(t),o=this.postMessage(e,i);return Promise.all([o,n]).then(([,a])=>a)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(e){let i;return typeof e=="string"?i=t=>t.type===e:i=t=>e.includes(t.type),this.events.pipe(h(i))}nextEventOfType(e){return this.eventsOfType(e).pipe(p(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(h(i=>i.nonce===e),p(1),c(i=>{if(i.result!==void 0)return i.result;throw new Error(i.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}},oe=(()=>{let e=class e{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,this.pushManager=null,this.subscriptionChanges=new k,!t.isEnabled){this.messages=u,this.notificationClicks=u,this.subscription=u;return}this.messages=this.sw.eventsOfType("PUSH").pipe(c(o=>o.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(c(o=>o.data)),this.pushManager=this.sw.registration.pipe(c(o=>o.pushManager));let n=this.pushManager.pipe(f(o=>o.getSubscription()));this.subscription=O(n,this.subscriptionChanges)}requestSubscription(t){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(m));let n={userVisibleOnly:!0},o=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),a=new Uint8Array(new ArrayBuffer(o.length));for(let s=0;s<o.length;s++)a[s]=o.charCodeAt(s);return n.applicationServerKey=a,this.pushManager.pipe(f(s=>s.subscribe(n)),p(1)).toPromise().then(s=>(this.subscriptionChanges.next(s),s))}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(m));let t=n=>{if(n===null)throw new Error("Not subscribed to push notifications.");return n.unsubscribe().then(o=>{if(!o)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})};return this.subscription.pipe(p(1),f(t)).toPromise()}decodeBase64(t){return atob(t)}};e.\u0275fac=function(n){return new(n||e)(S(d))},e.\u0275prov=I({token:e,factory:e.\u0275fac});let r=e;return r})(),se=(()=>{let e=class e{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,!t.isEnabled){this.versionUpdates=u,this.unrecoverable=u;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(m));let t=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(m));let t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}};e.\u0275fac=function(n){return new(n||e)(S(d))},e.\u0275prov=I({token:e,factory:e.\u0275fac});let r=e;return r})();var z=new U("");function ae(r,e,i,t){return()=>{if(!(D(t)&&"serviceWorker"in navigator&&i.enabled!==!1))return;navigator.serviceWorker.addEventListener("controllerchange",()=>{navigator.serviceWorker.controller!==null&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})});let n;if(typeof i.registrationStrategy=="function")n=i.registrationStrategy();else{let[a,...s]=(i.registrationStrategy||"registerWhenStable:30000").split(":");switch(a){case"registerImmediately":n=v(null);break;case"registerWithDelay":n=Y(+s[0]||0);break;case"registerWhenStable":n=s[0]?O(J(r),Y(+s[0])):J(r);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${i.registrationStrategy}`)}}r.get(B).runOutsideAngular(()=>n.pipe(p(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:i.scope}).catch(a=>console.error("Service worker registration failed with:",a))))}}function Y(r){return v(null).pipe(F(r))}function J(r){return r.get(Z).isStable.pipe(h(i=>i))}function ce(r,e){return new d(D(e)&&r.enabled!==!1?navigator.serviceWorker:void 0)}var g=class{};function X(r,e={}){return L([oe,se,{provide:z,useValue:r},{provide:g,useValue:e},{provide:d,useFactory:ce,deps:[g,M]},{provide:K,useFactory:ae,deps:[V,z,g,M],multi:!0}])}var pe=["class","component ts"],ee=(()=>{let e=class e{constructor(){}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=E({type:e,selectors:[["layout",8,"component","ts"]],standalone:!0,features:[w],attrs:pe,decls:1,vars:0,template:function(n,o){n&1&&b(0,"router-outlet")},dependencies:[y],changeDetection:0});let r=e;return r})();var te=[{path:"",component:ee,children:[{path:"verify-tours",loadChildren:()=>import("./chunk-QTJL7H7L.js").then(r=>r.VerifyToursModule)}]}];var re={providers:[q(te),H(),X("ngsw-worker.js",{enabled:!_(),registrationStrategy:"registerWhenStable:30000"})]};var ne=(()=>{let e=class e{constructor(t){this.router=t,this.title="verify-tours-available"}ngOnInit(){this.router.navigate(["/verify-tours"])}};e.\u0275fac=function(n){return new(n||e)(x($))},e.\u0275cmp=E({type:e,selectors:[["app-root"]],standalone:!0,features:[w],decls:1,vars:0,template:function(n,o){n&1&&b(0,"router-outlet")},dependencies:[y]});let r=e;return r})();G(ne,re).catch(r=>console.error(r));
